<div class="file-wrap" ng-repeat="file in files">
    <i class="fa cm-close" cm-reactive ng-click="removeFile(file)"></i>
    <div class="file-image" ng-if="file.isImage()">
        <cm-loader ng-show="!file.loaded" class="full-inline"></cm-loader>
        <img cm-blob-image="file" />
    </div>
    <div ng-if="!file.isImage()" class="file {{file.detectedExtension}}"></div>
</div>