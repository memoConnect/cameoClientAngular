<!--<cm-loader ng-show="conversations.state.is('initial-loading')" class="fullscreen"></cm-loader>-->

<ul>
    <li ng-if="!conversations.length && !conversations.state.is('loading')" class="empty-list">
        <i class="fa cm-info"></i>  {{'TALKS.LIST_EMPTY'|cmTranslate}}
    </li>
    <li ng-repeat="conversation in conversations | orderBy:'timeOfLastUpdate':true | cmSearch:'talks':search" ng-click="goto('/conversation/'+conversation.id)" cm-reactive data-qa="conversation-list-element">
        <cm-conversation-tag cm-data="conversation" cm-rubber-space></cm-conversation-tag>
    </li>
    <li cm-hide-on-filter="search" ng-if="moreTalksAvailable()">
        <button class="cm-btn-grey" ng-click="loadMoreTalks()" data-qa="load-more-btn" cm-reactive>
            {{'TALKS.MORE'|cmTranslate}}
        </button>
    </li>
    <li cm-show-on-filter="search" cm-show-on-min-length="3" ng-if="moreArchiveTalksAvailable()">
        <button class="cm-btn-grey" ng-click="searchArchive()" data-qa="btn-search-at-server" cm-reactive>
            {{'TALKS.SEARCH_ARCHIVE'|cmTranslate}}
        </button>
    </li>
    <li cm-show-on-filter="search" cm-show-on-empty-list ng-click="goTo('/contact/list')" data-qa="btn-search-in-contacts" cm-reactive>
         <span class="item is-selectable">
            {{'CONTACTS.SEARCH'|cmTranslate}} <span ng-if="search">({{search}})</span>
        </span>
        <div class="short-links without-bg" ng-click="goTo('/contact/list')">
            <i class="fa cm-right"></i>
        </div>
    </li>
</ul>