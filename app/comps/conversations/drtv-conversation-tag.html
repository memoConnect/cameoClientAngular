<cm-avatar cm-data="conversation.getLastMessage().from"></cm-avatar>

<div class="details" cm-weight="3">
    <div class="subject" data-qa="conversation-subject">
        {{conversation.getSubjectLine()}}
    </div>
    <cm-message
        ng-if     = "conversation.getLastMessage()"
        cm-data   = "conversation.getLastMessage()"
        text-only = "true"
        data-qa   = "conversation-last-message"
    ></cm-message>
</div>

<div class="meta" cm-weight = "1">
    <div class="top">

        <cm-safety-level cm-level="conversation.getSafetyLevel()"></cm-safety-level>

        <span class="last-updated small">
           {{conversation.getLastUpdate() | date:'HH:mm'}}
        </span>
    </div>
    
    <div class="bottom">
        <cm-recipient-counter>{{conversation.recipients.length||0}}</cm-recipient-counter>
        <span class="message-count" ng-class="{'cm-unread' : conversation.numberOfMessages > 0}"> ({{conversation.numberOfMessages||0}}) </span>
    </div>
</div>


