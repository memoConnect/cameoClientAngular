<cm-avatar cm-data="conversation.getLastMessage().from"></cm-avatar>
<div class="details">
    <div class="subject">
        {{conversation.subject || (conversation.lastSender && conversation.lastSender.displayName) || conversation.recipients.toString() || 'Dummy subject line'}}
    </div>
    <cm-message
        ng-if     = "conversation.getLastMessage()"
        cm-data   = "conversation.getLastMessage()"
        text-only = "true"
    ></cm-message>
</div>
<div class="meta">
    <div class="top">

        <cm-safety-level level="2"></cm-safety-level>

        <span class="last-updated">  
            {{ (conversation.getLastMessage() && conversation.getLastMessage().lastUpdated) || '01.01.2020' }}
        </span> 
    </div>
    
    <div class="bottom">
        <cm-recipient-counter>{{conversation.recipients.length}}</cm-recipient-counter>
        <span class="message-count" ng-class="{'cm-unread' : conversation.count > 0}"> ({{conversation.count || 0}}) </span>            
    </div>
</div>


