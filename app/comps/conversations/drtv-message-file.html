<div>
    <progressbar ng-if="file.state != 'cached'" value="progress" max="1">
        {{progress*100 | cmDigits : 2 }} %
    </progressbar>

    <div ng-if="file.state == 'cached'">
        <div class="file-image" ng-if="isImage(file.type)">
            <div cm-spinner ng-hide="file.loaded"></div>
            <img cm-blob-view="file" />
        </div>
        <div ng-if="!isImage(file.type)" class="file {{cmFileTypes.find(file.type, file.name)}}" ng-click="file.promptSaveAs()"></div>
    </div>
</div>