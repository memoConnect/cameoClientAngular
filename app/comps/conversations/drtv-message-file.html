<div>
    <cm-progressbar cm-percent="progress" ng-if="file.state != 'cached'"></cm-progressbar>

    <div ng-if="file.state == 'cached'">
        <div class="file-image" ng-if="file.isEmbed('image')">
            <cm-loader cm-color="ci-color" class="full-inline" ng-show="!file.loaded"></cm-loader>
            <img cm-blob-image="file" ng-click="showFullscreen()" />
        </div>
        <div class="file-html5" ng-if="file.isEmbed('video')">
            <cm-loader cm-color="ci-color" ng-show="!file.loaded"></cm-loader>
            <video controls="true" cm-blob-video-audio="file"></video>
        </div>
        <div class="file-html5" ng-if="file.isEmbed('audio')">
            <cm-loader cm-color="ci-color" ng-show="!file.loaded"></cm-loader>
            <audio controls="true" cm-blob-video-audio="file"></audio>
        </div>
        <div ng-if="!file.isEmbed()" class="file {{file.detectedExtension}}" ng-click="file.promptSaveAs()"></div>
    </div>
</div>