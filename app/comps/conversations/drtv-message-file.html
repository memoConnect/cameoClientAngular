<div>
    <cm-progressbar cm-percent="progress" ng-if="file.state != 'cached'"></cm-progressbar>

    <div ng-if="file.state == 'cached'">
        <div class="file-image" ng-if="file.isEmbed('image')">
            <div cm-spinner cm-color="#02BED2" ng-hide="file.loaded"></div>
            <img cm-blob-image="file" cm-scroll-to-target="#conversation-bottom" ng-click="showFullscreen()" />
        </div>
        <div class="file-html5" ng-if="file.isEmbed('video')">
            <div cm-spinner cm-color="#02BED2" ng-hide="file.loaded"></div>
            <video controls="true" cm-blob-video-audio="file"></video>
        </div>
        <div class="file-html5" ng-if="file.isEmbed('audio')">
            <div cm-spinner cm-color="#02BED2" ng-hide="file.loaded"></div>
            <audio controls="true" cm-blob-video-audio="file"></audio>
        </div>
        <div ng-if="!file.isEmbed()" class="file {{file.detectedExtension}}" ng-click="file.promptSaveAs()"></div>
    </div>
</div>