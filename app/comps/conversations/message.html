<article class="{{ is_my_own_message ? 'right' : 'left'}}">
  <!--  <header>
        {{ message.fromIdentity.getDisplayName() }}
    </header>-->
    <div>
       <!-- <cm-avatar
            cm-data = "message.fromIdentity"
            class   = "{{ is_my_own_message ? 'pull-right' : 'pull-left'}}"
        >
        </cm-avatar>         -->
        <img ng-if = "hasCaptcha" src ="{{hasCaptcha ? message.body :''}}" class="img-responsive img-rounded"/>                
        <pre ng-if = "captchaRequest">{{'CONVERSATION.TEXT.REQUEST_CAPTCHA' | cmTranslate}}
        </pre>        
        <cm-download 
            ng-if          = "hasAsset" 
            cm-data        = "assetId"
            cm-passphrase  = "passphrase"
        >
            <button ng-click="download()">
                {{fileId}}<br/>
                {{fileName}} ({{fileSize | cmFileSize}}) <br/>
                <progress value="{{progress}}" max =""></progress>
                <br/>
                {{progress*100 | cmDigits : 2}}%
            </button>
        </cm-download>
        <pre ng-if ="!(hasCaptcha || captchaRequest || hasAsset)" style ="text-align:left">{{ message.decryptedBody }}
        </pre>
        <span class="date">{{ message.created }}</span>
    </div>    
    <footer>
        <cm-attachments></cm-attachments> <!--{{ message.created }}-->
    </footer>
</article>