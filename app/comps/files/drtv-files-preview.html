<div class="file-wrap" ng-repeat="file in files" ng-click="removeFile(file)">
    <i class="fa cm-close"></i>
    <div class="file-image" ng-if="file.isImage()">
        <div cm-spinner ng-hide="file.loaded"></div>
        <img cm-blob-image="file" />
    </div>
    <div ng-if="!file.isImage()" class="file {{file.detectedExtension}}"></div>
</div>