<section>
    <cm-contacts-list contacts-as="contacts">
        <cm-contact-tag ng-repeat="contact in contacts|cmSearch:'contacts':search" cm-rubber-space ng-class="{'disabled':contact.contactType == 'pending'}">
            <cm-avatar cm-data="contact.identity"></cm-avatar>
            <cm-key-level key-size="contact.identity.getWeakestKeySize()"></cm-key-level>
            <cm-contact-brief cm-data="contact" cm-weight="1"></cm-contact-brief>
            <cm-contact-type cm-data="contact"></cm-contact-type>
            <span class="separator"></span>
            <button ng-click="toggleRecipient(contact.identity)" ng-disabled="contact.contactType == 'pending' || selected[contact.identity.id] && disabled_remove" data-qa="btn-select-contact">
                <i class="fa" ng-class="{'cm-checkbox':!selected[contact.identity.id], 'cm-checkbox-right':selected[contact.identity.id]}"></i>
            </button>
        </cm-contact-tag>
    </cm-contacts-list>
</section>

<cm-footer cm-rubber-space cm-hide-other-footer>
    <a href="#/conversation/{{conversationId}}" class="cm-btn-grey" data-qa="btn-done" cm-weight="1">{{'RECIPIENTS.LABEL.DONE'|cmTranslate}}</a>
</cm-footer>