<cm-header cm-rubber-space>    
    <cm-identity cm-weight="6"></cm-identity>
    <cm-logo     cm-weight="6"></cm-logo>
    <cm-reload   cm-weight="3"></cm-reload>
    <cm-menu     cm-weight="3"></cm-menu>
</cm-header>

<section ng-controller="ConversationsCtrl">

    <header class="cm-list-header">
        <h1>{{'TALKS.HEADING'|cmTranslate}}</h1>

        <span ng-click="createNewConversation()" cm-edge>
            <i class="fa cm-edge-add" ></i>
        </span>

        <input 
            type            = "text" 
            value           = "" 
            ng-model        = "search" 
            cm-icon         = "cm-search"
            cm-large-input
        />  
    </header>

    <ul>
        <li ng-show="loading" class="empty-list">
            <cm-spinner></cm-spinner>
        </li>
        <li ng-show="!conversations.length && !loading" class="empty-list">
            <i class="fa cm-info"></i>  {{'TALKS.LIST_EMPTY'|cmTranslate}}
        </li>
        <li ng-repeat="conversation in conversations | filter:search" ng-click="goToConversation(conversation.id)" data-qa="conversation-list-element">
            <cm-conversation-tag cm-data="conversation" cm-rubber-space>
            </cm-conversation-tag>
        </li>
    </ul>

    <div ng-if="showMore()">
        <button class="full" ng-click="loadMore()" data-qa="load-more-btn">{{"TALKS.MORE"|cmTranslate}}</button>
    </div>
</section>

<cm-footer cm-rubber-space></cm-footer>