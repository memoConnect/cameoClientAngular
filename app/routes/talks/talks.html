<cm-header cm-rubber-space>    
    <cm-identity cm-weight="2"></cm-identity>
    <cm-logo     cm-weight="4"></cm-logo>
    <cm-reload   cm-weight="1"></cm-reload>
    <cm-menu     cm-weight="1"></cm-menu>
</cm-header>

<section ng-controller="ConversationsCtrl">

    <header class="cm-list-header with-add-btn">
        <cm-search-input ng-model="search"></cm-search-input><cm-add-button ng-click="createNewConversation()" data-qa="new-conversation-btn" cm-icon="new-talk"></cm-add-button>
    </header>

    <ul>
        <li ng-show="loading" class="empty-list">
            <cm-spinner></cm-spinner>
        </li>
        <li ng-show="!conversations.length && !loading" class="empty-list">
            <i class="fa cm-info"></i>  {{'TALKS.LIST_EMPTY'|cmTranslate}}
        </li>
        <li ng-repeat="conversation in conversations | orderBy:'timeOfLastUpdate':true | cmSearch:'talks':search" ng-click="goToConversation(conversation.id)" data-qa="conversation-list-element">
            <cm-conversation-tag cm-data="conversation" cm-rubber-space>
            </cm-conversation-tag>
        </li>
    </ul>

    <div ng-if="showMore()">
        <button class="full" ng-click="loadMore()" data-qa="load-more-btn">{{"TALKS.MORE"|cmTranslate}}</button>
    </div>
</section>

<cm-footer cm-rubber-space></cm-footer>