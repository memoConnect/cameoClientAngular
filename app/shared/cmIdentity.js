/**
 * Created by Empujador on 17.03.14.
 */
'use strict';

angular.module('cmIdentity', ['cmAuth', 'cmCrypt'])
.factory('cmIdentityModel',['cmAuth', 'cmCrypt', '$q', function(cmAuth, cmCrypt, $q){
    var Identity = function(identity_data){

        this.id,        
        this.displayName,
        this.userKey,  
        this.cameoId, 
        this.email                   = {value: undefined, isVerified: undefined},
        this.phoneNumber             = {value: undefined, isVerified: undefined},    
        this.preferredMessageType,
        this.publicKeys,
        this.userType,
        this.reated,
        this.lastUpdated

        var self = this;

        this.getKeyId = function(){
            return 123
        }

        this.encryptPassphrase = function(key){
            var encryptedKeyList = []

            this.publicKeys.forEach(function(pubKey){
                encrypted_data.push({
                    keyId:                  pubKey.id,
                    encrypted_passphrase:   cmCrypt.encryptWithPublicKey(key, pubkey)
                })
            }) 

            return encryptedKeyList
        }

        this.decryptPassphrase = function(key, fallback_password){
            var passphrase = false

            this.privateKeys.forEach(function(pubKey){
                if(!passphrase){
                    passphrase : cmCrypt.encryptWithPublicKey(key, pubkey)
                }
            })

            return passphrase
        }

        this.getDisplayName = function(){
            return  this.displayName || this.cameoId || this.id;
        }

        this.getPubKeys = function(){

        }

        this.getAvatar = function(){
            var mock = 'data:image/jpg;base64,/9j/4RGqRXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUAAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAdAAAAcgEyAAIAAAAUAAAAj4dpAAQAAAABAAAApAAAANAACvyAAAAnEAAK/IAAACcQQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKQAyMDE0OjA0OjAyIDEyOjQzOjU5AAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAyKADAAQAAAABAAAAyAAAAAAAAAAGAQMAAwAAAAEABgAAARoABQAAAAEAAAEeARsABQAAAAEAAAEmASgAAwAAAAEAAgAAAgEABAAAAAEAAAEuAgIABAAAAAEAABB0AAAAAAAAAEgAAAABAAAASAAAAAH/2P/tAAxBZG9iZV9DTQAB/+4ADkFkb2JlAGSAAAAAAf/bAIQADAgICAkIDAkJDBELCgsRFQ8MDA8VGBMTFRMTGBEMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAENCwsNDg0QDg4QFA4ODhQUDg4ODhQRDAwMDAwREQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgAoACgAwEiAAIRAQMRAf/dAAQACv/EAT8AAAEFAQEBAQEBAAAAAAAAAAMAAQIEBQYHCAkKCwEAAQUBAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAABBAEDAgQCBQcGCAUDDDMBAAIRAwQhEjEFQVFhEyJxgTIGFJGhsUIjJBVSwWIzNHKC0UMHJZJT8OHxY3M1FqKygyZEk1RkRcKjdDYX0lXiZfKzhMPTdePzRieUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9jdHV2d3h5ent8fX5/cRAAICAQIEBAMEBQYHBwYFNQEAAhEDITESBEFRYXEiEwUygZEUobFCI8FS0fAzJGLhcoKSQ1MVY3M08SUGFqKygwcmNcLSRJNUoxdkRVU2dGXi8rOEw9N14/NGlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vYnN0dXZ3eHl6e3x//aAAwDAQACEQMRAD8AEkkkkpSSSSSlJJJJKUkkkkpSSSSSlJJJJKUkkkkpSSSSSlJJJJKUkkkkp//QEkkm/joB5lJS6euuy2xtNLHW2u+jWwFzj/Zaui6V9Trrq/tPVXnEoA3ekCBZtid1th9lH/nz/ilbs+sPQOjVux+i47b7eHPboyR/pcl26y/+x6iSnjusWjoot/aLXVupLWurbDnFzhvY1uuz3N/lLnrPrtjh0VYb3t8XWBp/zW12Lov8aAs6h9XOl9dDWtN1noZgboPUaLfT2t1/dyPpO/0K8xSU9nh/W/p17wzIrfilxgPJD2D+s5oY/wD8DW78NQeCNQvNMSg5GVTjgx6z2snw3ENXpjo3EAQBoAPAJKWSTEgCToByUS6i6hzW3MNbnsbY1rudj/oO/k7klMEkkklKSSSSUpJJJJSkkkklKSWhn9MNOBh9ToH6rl1tFgmdl0bX/wDW7nN9n/Cfo/8ARrPSU//REuu+p3Qmem3q+U3c90/ZGH81vHr/APGWf4P9yr/jFyuNjuysmnFaYORY2qfAOO1zv7LfcvVK62VVtqraGsrAaxo4AAhrUlPBfWrrF+dn3YYcW4eM70/TGge9v85Zb+/tf7K2f21iK71vGsxesZlVgI3WutYfFlpNrHD/ADtibpHTX9U6hVhiRWffe4fm1N+n/af/ADTElMfrY1uN/ivi/R2XlNdQDz7rDY2P61FVli8lXof+N/6wG/qFH1ex630YnTgHvDmljX2Fuys1Nd9Kmir9HXZ+f6l35npvXniSnT+rVYs67iNImHl0f1Wuf/31eh4eFmZ93o4dTr7B9KNGt/42x3srXlTLH1vD63Fj26tc0wQfIhez/wCKfqH1sycN9fU6CeksZOJl2t2WOd7fYzRrsqnZ7vtD/wDt5/5iU7/RvqdjYjm5GeRlZLTLWAfomHxDXfzr/wCXZ/22sf67NA60wjl2Own/ADrAu7XnP1oy25XXMhzDLKdtAPmz+d/zbXPYkpy0kkklKSSSSUpJJJJSkkkxMAnw1SU970DDpzvqnRiZAmq6t7XRyPe/a5v8pv02Lh8jHtxci3Fu/naHlj/Akfnj+TY39IxekdDxji9Hw6CCHNqaXA8hzhveP85y5T674Yp6nVltENyq4d/Xqhv/AJ7srSU//9I/RXtr6zgPdwL2D/Omtv8A0nr05eSGexIPYjkHxC9L6F1L9p9MpyiIsILLRED1Geyzb/I3JKR9c+r+L1itpe405FWld7RJAP0q3t/wlal0TomN0eh1dTjZbaQbrnaFxH0RtH0K2T7GLSSSU18zp+Bn1ejnY1WXUDIrvY2xsj87ZYHNWJb/AIu/qVa8vd0qoE/ul7B/m1va1dGkkpx8L6n/AFWwHNfi9LxmWMIcyw1te9pH5zLbd9jf85bCSSSnI+s/VMrpvTXW41bnWWHZ6wEspB/w1n/ov8z1P5xedgQI/KvWnNDgWuALSIIOoIK4v6x/VU4odndNYTjj3XYw1NfjZR/wX79X+D/wf6P+bSnmkk0giRx4qzgdOzuo2enhUm0gw5/Fbf8AjLfoN/q/ziSmuA5zmtaC57iGta0Ekk/Ra1rfc5y0sv6u9Vw+n/tDJY2usFodVumxocdrXPA9n0nfvrrug/VnG6UBfaRfnEQbY9rJ+kyhp+j/AMZ/OWf+Bp/rc4D6v5U9/TA+JsYkp8+SSSSUpXeidOPUuqUYpE1T6l//ABbNXD/rrttP9tU2te97a62l9jyGsY0S5zj9FrQvQvq30QdJw5tg5mRDshwMgR9Cln8ird/bekp11zf16pDul03fnVXt18ntew/9LYukWH9cwD0C0ntZUR8fUYkp/9NsXGtzMqnEp0sveGNPhP0n/wDW2brF6hi4tOJjV4tDdtVLQxg8h4/ylxf1Jxhb1azIcJGNUdp8HWHYP/A22rovrD9aMLoJxarqcjLy89zmYuJi1+pY8sANjtSxm2vfXu9//f0lOwkuRf8AXXrzHe76q9QLPFpa4/5jA5Of8YXpsLsj6u9bqDfpu+ySwefqeq1JT1qS5PG/xo/Uy9wrsy34lnevIqsaQfBzmsfW3/PXRYHVOmdSrNvTsunLY2NzqbG2RPAf6Zds/tJKbSSSSSlJJJJKcsfVnoQvdf8AY6y9zi8h0lsnmKnH0m/5i0q666mCutoYxujWtAAA8mhSQ78nHxqzbk2spqHL7HBrR/afDUlJFy317zGtxsfAaffa/wBV48GV/R/zrXN/7bV7I+uv1RxhNnV8Q+VdrbD/AJtBscuL6l1G3rGc/Oa17q7YGO3Y6RUP5r2Fu5rn/wA4/wDlvSU1FKmm6+5lFDDbdYYZW3kn/wAx/OetPp31Y6vnuBNRxaTzbeC0x/Io9tr/AO16S7TpHQsHpNZFDd9zxFuQ/V7vL+Qz/g2JKaf1d+rVfTB9qydtuc4RuGrawea6p/O/0lq3UkklKXP/AF3t2dFDJj1bq2x4wTd/6KXQLjPr3lh+Ti4TT/NNddZ8X/o6/wDottSU/wD/1Oo+oLRtzndy6ofIB5/78ifXJ1WB1T6vdfu0pwcx+Nc/hrK82t2M7ItcfayqqxlW96q/UO8NyszGPNjGWN/sFzH/APn1i6zNwcTqGJbhZtTb8a9u2yp4kEf+Yu9zHfmJKTpKLGNYxrGiGtADRzoFJJSDLwcLOq9HNx6sqr/R3MbY3/MsDmrncz/Ft9Vci4ZOLRZ0zLadzMnAsdS9hHetvvoZ/ZpXUpJKeQrwfr90Jw+y5VX1kwW84+VGPlga7GVZfvpu/N9S7K/7bXOZ3+Ou7Gvuxf2Ia7qXurcLciC1zTse2ypuP9Jrh/pV6kvI/wDG79TrK8g/WbBbNNu1vUK2j6DxFdeT/wAXb7a7f+F9/wDh/YlNK/8Ax1fWV8inEw6mngltjnD5+s1v/QWbkf41/rtd9DMZQD2rpr/9GstXIJJKfUf8XuR1X65ZWaetdY6gPsYqNdOLd9nY9r/VbaL247WbvoV/Q9NdtT/i8+ptTt56ay6wmXPvfZcSfF3r2WLk/wDEh026vE6n1OxsVXvropd3JqD336fufpqfcvT0lNTC6T0rp0/s/DoxN2jvQqZXP9b0mtVtJJJSkkHLvfj41l9dTr3Vjd6TPpOA+n6f71mz6DP8InxsmjKx68nGeLabWh9djdQQe6SkqSSSSkd99WPS++5wZVU0ve88AASSvMM/Nsz827NsEOvduDT+a0e2qv8AsVrd+t3Xhl2HpmK6cep36y8cPe06Ut/4Op385/wv/Frm0lP/1S9K6gem9RozdSysxaBya3e22P5TW/pGL05j2WMbZW4PY8BzXAyCDq1zSvJ10n1U+sbcTb03Ndtxif1e48MJ/wADYf8ARO/wT/8AB/zaSntkkkklKSSSSUpQtqrurfVaxtldjS17HAFrmkbXMe13tc1zVNJJT5l9Y/8AExjZNzsnoGSMQvMnEvl1QP8AwV7N9tbP+DfXd/xipdI/xJZRuDutdQrbS061YYc5zh/x2QyptX/bFy9aSSU1+n9PwumYVWBgVNx8XHbtqqbwBz39znud77LH++x/verCSSSlJJJJKUudzOmdW6TkWZvQItx7nGzI6a/6O8/TuxtW7N/59bXfT/0n82uiSSU8uz6941R9PPw78a5v0mDaY+Vpos/8DVHrP1ydmY/2fprbMdlgi298B8fu0+m5+zd/pf8AM/fXaPrY/wCm0OjiRK8w6pmDO6lk5bTLLbD6X/Ft/R1f9Bm9JTVAAAAEAcBOkkkp/9YSYgHQ6hOkkp3ug/WrI6dtxszdfhDRrubKx22/6Wpv7n84z/B/6JdvjZWPl0NyMaxttTxLXtMheVKz0/qWd0271sOzYSZsrOtb4/0tf/f/AOcSU+opLB6R9bsDO205UYeUdNrz+jcf+Cu0/wAyzY/+ut5JSkkkklKSSSSUpJJJJTmdQ65R0rKa3qcY2DdApzif0TbODj5bv+0276dFz/0Fnvr/AEVvp+vpFzQ3cSA0CSe0KGRj4+VQ/Hya23UWtLbKngOa5p5a5rlzX/jc/V40nEfZmv6dMs6c7Lu+zNg7vZTv3fS/eekpy/rP/jc6L0suxukNHVcsaGxrox2GD/hhu+0bXbPZR+j/AO7K5fF/x29fbcHZeBiW0/nMq9Sp5+Fr7Mlrf+2V6VifUn6pYbNtPSMUjxtrba7/ALcyPVf/ANJZnWfqx9Q+mPPVcnpVDsg6VUNBDLHAfRbhh32T/jX+h/xiSkd/13xurfVduZg13Y1ueXUMZc3aQG+3Kuqd7mXUtn0a7mf4b+XXYuWAAEDgI+ZmX5uQ7IvI3EBrGN0Yxjf5uilv5tVaCkpSSSSSn//XEkkkkpSSSSSliARB1C0umfWHqvTAGU2+rQP+09suaB/wbv5yr+z+j/4NZySSnu+nfXLpWVDMmcK46RZrWT/JvHt/7d9JbrHssYH1uD2OEtc0yCPIheTo2Jm5uC7dh3vx5MkMPtJ/lVO3VO/zElPqiS4TG+u3V6gBeynIHcwa3f8AQ3M/8DV5v1+bHvwHA99toP8A1VbElPWqp1DCflMa6i9+Lk1SabmagE8ttpP6O+p8e+t//W/Ts/SLm7Pr6+CKsGHdi+3T/NbWszM+tvW8oFrbW4rDpFDYd/27Zvf/AJiSndP1ryunX/Y+uYmy4CRdjEPY9sw21tby2xrNP66tt+uPQHN3HIcw/uursB/6hefmSS4klzjLnEkkn95zj7nJJKe0z/rxg11ub0+t+RcdGue0srH8p27bY/8AqtYuQy8vKzch2Tl2G252m46AD/R1t/MrQkklKSSSSUpJJJJT/9ASSUHwKUHwKSlJJQfApQfApKUklB8ClB8CkpSSUHwKUHwKSlJJQfApQfApKUklB8ClB8CkpSSUHwKUHwKSlJJQfApQfApKUklB8ClB8CkpSSUHwKUHwKSn/9n/7Rm0UGhvdG9zaG9wIDMuMAA4QklNBCUAAAAAABAAAAAAAAAAAAAAAAAAAAAAOEJJTQQ6AAAAAADxAAAAEAAAAAEAAAAAAAtwcmludE91dHB1dAAAAAUAAAAAUHN0U2Jvb2wBAAAAAEludGVlbnVtAAAAAEludGUAAAAAQ2xybQAAAA9wcmludFNpeHRlZW5CaXRib29sAAAAAAtwcmludGVyTmFtZVRFWFQAAAABAAAAAAAPcHJpbnRQcm9vZlNldHVwT2JqYwAAABIAUAByAG8AbwBmAC0ARQBpAG4AcwB0AGUAbABsAHUAbgBnAAAAAAAKcHJvb2ZTZXR1cAAAAAEAAAAAQmx0bmVudW0AAAAMYnVpbHRpblByb29mAAAACXByb29mQ01ZSwA4QklNBDsAAAAAAi0AAAAQAAAAAQAAAAAAEnByaW50T3V0cHV0T3B0aW9ucwAAABcAAAAAQ3B0bmJvb2wAAAAAAENsYnJib29sAAAAAABSZ3NNYm9vbAAAAAAAQ3JuQ2Jvb2wAAAAAAENudENib29sAAAAAABMYmxzYm9vbAAAAAAATmd0dmJvb2wAAAAAAEVtbERib29sAAAAAABJbnRyYm9vbAAAAAAAQmNrZ09iamMAAAABAAAAAAAAUkdCQwAAAAMAAAAAUmQgIGRvdWJAb+AAAAAAAAAAAABHcm4gZG91YkBv4AAAAAAAAAAAAEJsICBkb3ViQG/gAAAAAAAAAAAAQnJkVFVudEYjUmx0AAAAAAAAAAAAAAAAQmxkIFVudEYjUmx0AAAAAAAAAAAAAAAAUnNsdFVudEYjUHhsQFIAAAAAAAAAAAAKdmVjdG9yRGF0YWJvb2wBAAAAAFBnUHNlbnVtAAAAAFBnUHMAAAAAUGdQQwAAAABMZWZ0VW50RiNSbHQAAAAAAAAAAAAAAABUb3AgVW50RiNSbHQAAAAAAAAAAAAAAABTY2wgVW50RiNQcmNAWQAAAAAAAAAAABBjcm9wV2hlblByaW50aW5nYm9vbAAAAAAOY3JvcFJlY3RCb3R0b21sb25nAAAAAAAAAAxjcm9wUmVjdExlZnRsb25nAAAAAAAAAA1jcm9wUmVjdFJpZ2h0bG9uZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAgBIAAAAAQACOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAB4OEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAACOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgABOEJJTQQCAAAAAAAGAAAAAAAAOEJJTQQwAAAAAAADAQEBADhCSU0ELQAAAAAABgABAAAAAjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAANLAAAABgAAAAAAAAAAAAAAyAAAAMgAAAALAFUAbgBiAGUAbgBhAG4AbgB0AC0AMQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAyAAAAMgAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAG51bGwAAAACAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAAAMgAAAAAUmdodGxvbmcAAADIAAAABnNsaWNlc1ZsTHMAAAABT2JqYwAAAAEAAAAAAAVzbGljZQAAABIAAAAHc2xpY2VJRGxvbmcAAAAAAAAAB2dyb3VwSURsb25nAAAAAAAAAAZvcmlnaW5lbnVtAAAADEVTbGljZU9yaWdpbgAAAA1hdXRvR2VuZXJhdGVkAAAAAFR5cGVlbnVtAAAACkVTbGljZVR5cGUAAAAASW1nIAAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAADIAAAAAFJnaHRsb25nAAAAyAAAAAN1cmxURVhUAAAAAQAAAAAAAG51bGxURVhUAAAAAQAAAAAAAE1zZ2VURVhUAAAAAQAAAAAABmFsdFRhZ1RFWFQAAAABAAAAAAAOY2VsbFRleHRJc0hUTUxib29sAQAAAAhjZWxsVGV4dFRFWFQAAAABAAAAAAAJaG9yekFsaWduZW51bQAAAA9FU2xpY2VIb3J6QWxpZ24AAAAHZGVmYXVsdAAAAAl2ZXJ0QWxpZ25lbnVtAAAAD0VTbGljZVZlcnRBbGlnbgAAAAdkZWZhdWx0AAAAC2JnQ29sb3JUeXBlZW51bQAAABFFU2xpY2VCR0NvbG9yVHlwZQAAAABOb25lAAAACXRvcE91dHNldGxvbmcAAAAAAAAACmxlZnRPdXRzZXRsb25nAAAAAAAAAAxib3R0b21PdXRzZXRsb25nAAAAAAAAAAtyaWdodE91dHNldGxvbmcAAAAAADhCSU0EKAAAAAAADAAAAAI/8AAAAAAAADhCSU0EFAAAAAAABAAAAAY4QklNBAwAAAAAEJAAAAABAAAAoAAAAKAAAAHgAAEsAAAAEHQAGAAB/9j/7QAMQWRvYmVfQ00AAf/uAA5BZG9iZQBkgAAAAAH/2wCEAAwICAgJCAwJCQwRCwoLERUPDAwPFRgTExUTExgRDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBDQsLDQ4NEA4OEBQODg4UFA4ODg4UEQwMDAwMEREMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAKAAoAMBIgACEQEDEQH/3QAEAAr/xAE/AAABBQEBAQEBAQAAAAAAAAADAAECBAUGBwgJCgsBAAEFAQEBAQEBAAAAAAAAAAEAAgMEBQYHCAkKCxAAAQQBAwIEAgUHBggFAwwzAQACEQMEIRIxBUFRYRMicYEyBhSRobFCIyQVUsFiMzRygtFDByWSU/Dh8WNzNRaisoMmRJNUZEXCo3Q2F9JV4mXys4TD03Xj80YnlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3EQACAgECBAQDBAUGBwcGBTUBAAIRAyExEgRBUWFxIhMFMoGRFKGxQiPBUtHwMyRi4XKCkkNTFWNzNPElBhaisoMHJjXC0kSTVKMXZEVVNnRl4vKzhMPTdePzRpSkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2JzdHV2d3h5ent8f/2gAMAwEAAhEDEQA/ABJJJJKUkkkkpSSSSSlJJJJKUkkkkpSSSSSlJJJJKUkkkkpSSSSSlJJJJKf/0BJJJv46AeZSUunrrstsbTSx1trvo1sBc4/2WroulfU666v7T1V5xKAN3pAgWbYndbYfZR/58/4pW7PrD0Do1bsfouO2+3hz26Mkf6XJdusv/seokp47rFo6KLf2i11bqS1rq2w5xc4b2Nbrs9zf5S56z67Y4dFWG97fF1gaf81tdi6L/GgLOofVzpfXQ1rTdZ6GYG6D1Gi309rdf3cj6Tv9CvMUlPZ4f1v6de8MyK34pcYDyQ9g/rOaGP8A/A1u/DUHgjULzTEoORlU44Mes9rJ8NxDV6Y6NxAEAaADwCSlkkxIAk6AclEuouoc1tzDW57G2Na7nY/6Dv5O5JTBJJJJSkkkklKSSSSUpJJJJSkloZ/TDTgYfU6B+q5dbRYJnZdG1/8A1u5zfZ/wn6P/AEaz0lP/0RLrvqd0Jnpt6vlN3PdP2Rh/Nbx6/wDxln+D/cq/4xcrjY7srJpxWmDkWNqnwDjtc7+y33L1SutlVbaq2hrKwGsaOAAIa1JTwX1q6xfnZ92GHFuHjO9P0xoHvb/OWW/v7X+ytn9tYiu9bxrMXrGZVYCN1rrWHxZaTaxw/wA7Ym6R01/VOoVYYkVn33uH5tTfp/2n/wA0xJTH62Nbjf4r4v0dl5TXUA8+6w2Nj+tRVZYvJV6H/jf+sBv6hR9Xset9GJ04B7w5pY19hbsrNTXfSpoq/R12fn+pd+Z6b154kp0/q1WLOu4jSJh5dH9Vrn/99XoeHhZmfd6OHU6+wfSjRrf+Nsd7K15Uyx9bw+txY9urXNMEHyIXs/8Ain6h9bMnDfX1OgnpLGTiZdrdljne32M0a7Kp2e77Q/8A7ef+YlO/0b6nY2I5uRnkZWS0y1gH6Jh8Q1386/8Al2f9trH+uzQOtMI5djsJ/wA6wLu15z9aMtuV1zIcwyynbQD5s/nf821z2JKctJJJJSkkkklKSSSSUpJJMTAJ8NUlPe9Aw6c76p0YmQJqure10cj3v2ub/Kb9Ni4fIx7cXItxbv52h5Y/wJH54/k2N/SMXpHQ8Y4vR8OgghzamlwPIc4b3j/OcuU+u+GKep1ZbRDcquHf16ob/wCe7K0lP//SP0V7a+s4D3cC9g/zprb/ANJ69OXkhnsSD2I5B8QvS+hdS/afTKcoiLCCy0RA9Rnss2/yNySkfXPq/i9YraXuNORVpXe0SQD9Kt7f8JWpdE6JjdHodXU42W2kG652hcR9EbR9Ctk+xi0kklNfM6fgZ9Xo52NVl1AyK72NsbI/O2WBzViW/wCLv6lWvL3dKqBP7pewf5tb2tXRpJKcfC+p/wBVsBzX4vS8ZljCHMsNbXvaR+cy23fY3/OWwkkkpyPrP1TK6b011uNW51lh2esBLKQf8NZ/6L/M9T+cXnYECPyr1pzQ4FrgC0iCDqCCuL+sf1VOKHZ3TWE44912MNTX42Uf8F+/V/g/8H+j/m0p5pJNIIkceKs4HTs7qNnp4VJtIMOfxW3/AIy36Df6v84kprgOc5rWgue4hrWtBJJP0Wta33OctLL+rvVcPp/7QyWNrrBaHVbpsaHHa1zwPZ9J37667oP1ZxulAX2kX5xEG2PayfpMoafo/wDGfzln/gaf63OA+r+VPf0wPibGJKfPkkkklKV3onTj1LqlGKRNU+pf/wAWzVw/667bT/bVNrXve2utpfY8hrGNEuc4/Ra0L0L6t9EHScObYOZkQ7IcDIEfQpZ/Iq3f23pKddc39eqQ7pdN351V7dfJ7XsP/S2LpFh/XMA9AtJ7WVEfH1GJKf/TbFxrczKpxKdLL3hjT4T9J/8A1tm6xeoYuLTiY1eLQ3bVS0MYPIeP8pcX9ScYW9WsyHCRjVHafB1h2D/wNtq6L6w/WjC6CcWq6nIy8vPc5mLiYtfqWPLADY7UsZtr317vf/39JTsJLkX/AF168x3u+qvUCzxaWuP+YwOTn/GF6bC7I+rvW6g36bvsksHn6nqtSU9akuTxv8aP1MvcK7Mt+JZ3ryKrGkHwc5rH1t/z10WB1TpnUqzb07Lpy2Njc6mxtkTwH+mXbP7SSm0kkkkpSSSSSnLH1Z6EL3X/AGOsvc4vIdJbJ5ipx9Jv+YtKuuupgrraGMbo1rQAAPJoUkO/Jx8as25NrKahy+xwa0f2nw1JSRct9e8xrcbHwGn32v8AVePBlf0f861zf+21eyPrr9UcYTZ1fEPlXa2w/wCbQbHLi+pdRt6xnPzmte6u2Bjt2OkVD+a9hbua5/8AOP8A5b0lNRSppuvuZRQw23WGGVt5J/8AMfznrT6d9WOr57gTUcWk823gtMfyKPba/wDteku06R0LB6TWRQ3fc8RbkP1e7y/kM/4NiSmn9Xfq1X0wfasnbbnOEbhq2sHmuqfzv9Jat1JJJSlz/wBd7dnRQyY9W6tseME3f+il0C4z695Yfk4uE0/zTXXWfF/6Ov8A6LbUlP8A/9TqPqC0bc53cuqHyAef+/In1ydVgdU+r3X7tKcHMfjXP4ayvNrdjOyLXH2sqqsZVveqv1DvDcrMxjzYxljf7Bcx/wD59YuszcHE6hiW4WbU2/GvbtsqeJBH/mLvcx35iSk6SixjWMaxohrQA0c6BSSUgy8HCzqvRzcerKq/0dzG2N/zLA5q53M/xbfVXIuGTi0WdMy2nczJwLHUvYR3rb76Gf2aV1KSSnkK8H6/dCcPsuVV9ZMFvOPlRj5YGuxlWX76bvzfUuyv+21zmd/jruxr7sX9iGu6l7q3C3Igtc07Htsqbj/Sa4f6VepLyP8Axu/U6yvIP1mwWzTbtb1Cto+g8RXXk/8AF2+2u3/hff8A4f2JTSv/AMdX1lfIpxMOpp4JbY5w+frNb/0Fm5H+Nf67XfQzGUA9q6a//RrLVyCSSn1H/F7kdV+uWVmnrXWOoD7GKjXTi3fZ2Pa/1W2i9uO1m76Ff0PTXbU/4vPqbU7eemsusJlz732XEnxd69li5P8AxIdNurxOp9TsbFV766KXdyag99+n7n6an3L09JTUwuk9K6dP7Pw6MTdo70KmVz/W9JrVbSSSUpJBy734+NZfXU691Y3ekz6TgPp+n+9Zs+gz/CJ8bJoysevJxni2m1ofXY3UEHukpKkkkkpHffVj0vvucGVVNL3vPAAEkrzDPzbM/NuzbBDr3bg0/mtHtqr/ALFa3frd14Zdh6ZiunHqd+svHD3tOlLf+Dqd/Of8L/xa5tJT/9UvSuoHpvUaM3UsrMWgcmt3ttj+U1v6Ri9OY9ljG2VuD2PAc1wMgg6tc0ryddJ9VPrG3E29NzXbcYn9XuPDCf8AA2H/AETv8E//AAf82kp7ZJJJJSkkkklKULaq7q31WsbZXY0texwBa5pG1zHtd7XNc1TSSU+ZfWP/ABMY2Tc7J6BkjELzJxL5dUD/AMFezfbWz/g313f8YqXSP8SWUbg7rXUK20tOtWGHOc4f8dkMqbV/2xcvWkklNfp/T8LpmFVgYFTcfFx27aqm8Ac9/c57ne+yx/vsf73qwkkkpSSSSSlLnczpnVuk5Fmb0CLce5xsyOmv+jvP07sbVuzf+fW130/9J/NrokklPLs+veNUfTz8O/Gub9Jg2mPlaaLP/A1R6z9cnZmP9n6a2zHZYItvfAfH7tPpufs3f6X/ADP312j62P8AptDo4kSvMOqZgzupZOW0yy2w+l/xbf0dX/QZvSU1QAAABAHATpJJKf/WEmIB0OoTpJKd7oP1qyOnbcbM3X4Q0a7mysdtv+lqb+5/OM/wf+iXb42Vj5dDcjGsbbU8S17TIXlSs9P6lndNu9bDs2EmbKzrW+P9LX/3/wDnElPqKSwekfW7AzttOVGHlHTa8/o3H/grtP8AMs2P/rreSUpJJJJSkkkklKSSSSU5nUOuUdKymt6nGNg3QKc4n9E2zg4+W7/tNu+nRc/9BZ76/wBFb6fr6Rc0N3EgNAkntChkY+PlUPx8mtt1FrS2yp4DmuaeWua5c1/43P1eNJxH2Zr+nTLOnOy7vszYO72U7930v3npKcv6z/43Oi9LLsbpDR1XLGhsa6Mdhg/4YbvtG12z2Ufo/wDuyuXxf8dvX23B2XgYltP5zKvUqefha+zJa3/tlelYn1J+qWGzbT0jFI8ba22u/wC3Mj1X/wDSWZ1n6sfUPpjz1XJ6VQ7IOlVDQQyxwH0W4Yd9k/41/of8YkpHf9d8bq31XbmYNd2Nbnl1DGXN2kBvtyrqne5l1LZ9Gu5n+G/l12LlgABA4CPmZl+bkOyLyNxAaxjdGMY3+bopb+bVWgpKUkkkkp//1xJJJJKUkkkkpYgEQdQtLpn1h6r0wBlNvq0D/tPbLmgf8G7+cq/s/o/+DWckkp7vp31y6VlQzJnCuOkWa1k/ybx7f+3fSW6x7LGB9bg9jhLXNMgjyIXk6NiZubgu3Yd78eTJDD7Sf5VTt1Tv8xJT6okuExvrt1eoAXspyB3MGt3/AENzP/A1eb9fmx78BwPfbaD/ANVWxJT1qqdQwn5TGuovfi5NUmm5moBPLbaT+jvqfHvrf/1v07P0i5uz6+vgirBh3Yvt0/zW1rMzPrb1vKBa21uKw6RQ2Hf9u2b3/wCYkp3T9a8rp1/2PrmJsuAkXYxD2PbMNtbW8tsazT+urbfrj0BzdxyHMP7rq7Af+oXn5kkuJJc4y5xJJJ/ec4+5ySSntM/68YNdbm9PrfkXHRrntLKx/Kdu22P/AKrWLkMvLys3Idk5dhtudpuOgA/0dbfzK0JJJSkkkklKSSSSU//QEklB8ClB8CkpSSUHwKUHwKSlJJQfApQfApKUklB8ClB8CkpSSUHwKUHwKSlJJQfApQfApKUklB8ClB8CkpSSUHwKUHwKSlJJQfApQfApKUklB8ClB8Ckp//ZOEJJTQQhAAAAAABTAAAAAQEAAAAPAEEAZABvAGIAZQAgAFAAaABvAHQAbwBzAGgAbwBwAAAAEgBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAgAEMAQwAAAAEAOEJJTQQGAAAAAAAHAAQAAAABAQD/4Q3naHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE0LTA0LTAyVDEyOjQzOjU5KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE0LTA0LTAyVDEyOjQzOjU5KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxNC0wNC0wMlQxMjo0Mzo1OSswMjowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozZWQxYmYzNS1lOTI4LTQ5NDAtODUyZi00YzQ5Nzc4OGU5M2QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NGFhMTA2ZjQtZmNjNi05YzRjLWEzNmEtMzFmOTA3YzRlMmVlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NGFhMTA2ZjQtZmNjNi05YzRjLWEzNmEtMzFmOTA3YzRlMmVlIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NGFhMTA2ZjQtZmNjNi05YzRjLWEzNmEtMzFmOTA3YzRlMmVlIiBzdEV2dDp3aGVuPSIyMDE0LTA0LTAyVDEyOjQzOjU5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozZWQxYmYzNS1lOTI4LTQ5NDAtODUyZi00YzQ5Nzc4OGU5M2QiIHN0RXZ0OndoZW49IjIwMTQtMDQtMDJUMTI6NDM6NTkrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVzYwAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z2Rlc2MAAAAAAAAAFklFQyBo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';
            return mock;
        }

        /**
         * @param identity_data
         */
        this.init = function(identity_data){
            var deferred = $q.defer();

            if(typeof identity_data === 'object'){
                this.id = identity_data.id;

                angular.extend(this, identity_data);
                deferred.resolve();
            } else if(typeof identity_data === 'string'){
                this.id = identity_data;

                cmAuth.getIdentity(identity_data).then(
                    function(data){
                        angular.extend(self, data);
                        deferred.resolve();
                    }
                )
            } else {
                deferred.reject();
            }

            return deferred.promise;
        }

        this.init(identity_data);
    }

    return Identity;
}])
.factory('cmIdentityFactory',['$rootScope','cmIdentityModel', function($rootScope, cmIdentityModel){
    var instances = [];

    $rootScope.$on('logout', function(){
        instances = [];
    });

    return {
        /**
         * returns instance of cmIdentityModel
         * @param data id or object
         * @returns {*}
         */
        create: function(data){
            var identity = null,
                i = 0;

                if(this.getQty() > 0){
                    if(typeof data === 'string'){
                        while(i < instances.length){
                            if(typeof instances[i] === 'object' && instances[i].id == data){
                                identity = instances[i];
                                break;
                            }
                            i++;
                        }
                    } else if(typeof data === 'object'){
                        while(i < instances.length){
                            if(typeof instances[i] === 'object' && instances[i].id == data.id){
                                identity = instances[i];
                                break;
                            }
                            i++;
                        }
                    }
                }

                if(identity === null){
                    identity = new cmIdentityModel(data);
                    instances.push(identity);
                }

            return identity;
        },
        getQty: function(){
            return instances.length;
        }
    }
}]);